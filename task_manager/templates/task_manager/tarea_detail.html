{% extends "task_manager/base.html" %}
{% block title %}Detalle de Tarea{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-12 col-lg-10 col-xxl-8">
    <div class="card shadow-sm">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-start mb-2">
          <h4 class="m-0">{{ tarea.titulo }}</h4>
          <div>
            {% if tarea.estado == 'done' %}
              <span class="badge text-bg-success">Finalizado</span>
            {% elif tarea.estado == 'doing' %}
              <span class="badge text-bg-warning">En progreso</span>
            {% else %}
              <span class="badge text-bg-secondary">Pendiente</span>
            {% endif %}
          </div>
        </div>

        {% if tarea.proyecto %}
          <div class="text-body-secondary mb-2">Proyecto: {{ tarea.proyecto }}</div>
        {% endif %}
        {% if tarea.fecha_limite %}
          <div class="text-body-secondary mb-3">Fecha límite: {{ tarea.fecha_limite|date:"d/m/Y" }}</div>
        {% endif %}

        {% if tarea.descripcion %}
          <p class="mb-3">{{ tarea.descripcion }}</p>
        {% else %}
          <p class="text-body-secondary">Sin descripción.</p>
        {% endif %}

        <div class="mb-3">
          {% for tag in tarea.etiquetas.all %}
            <span class="badge text-bg-light border me-1 mb-1">{{ tag.nombre }}</span>
          {% empty %}
            <span class="text-body-secondary">Sin etiquetas.</span>
          {% endfor %}
        </div>

        <div class="d-grid gap-2 d-sm-flex justify-content-sm-end">
          <a href="{% url 'tarea_list' %}" class="btn btn-outline-secondary">Volver</a>
          <a href="{% url 'tarea_update' tarea.id %}" class="btn btn-primary">Editar</a>
        </div>
      </div>
    </div>
  </div>
  
</div>
{% endblock %}
